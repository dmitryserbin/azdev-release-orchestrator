parameters:
  projectName: ""
  definitionName: ""
  releaseName: ""
  releasePartialName: ""
  releaseFailedName: ""
  releaseStageName: ""
  artifactTagName: ""
  artifactBranchName: ""
  releaseTagName: ""

steps:
- task: releaseorchestrator@2
  displayName: Specific release (auto)
  inputs:
    projectName: ${{ parameters.projectName }}
    definitionName: ${{ parameters.definitionName }}
    releaseStrategy: specific
    releaseName: ${{ parameters.releaseName }}

- task: releaseorchestrator@2
  displayName: Specific release (manual)
  inputs:
    projectName: ${{ parameters.projectName }}
    definitionName: ${{ parameters.definitionName }}
    releaseStrategy: specific
    releaseName: ${{ parameters.releaseName }}
    releaseStageFilter: true
    releaseStageName: ${{ parameters.releaseStageName }}

- task: releaseorchestrator@2
  displayName: Specific release (partial)
  inputs:
    projectName: ${{ parameters.projectName }}
    definitionName: ${{ parameters.definitionName }}
    releaseStrategy: specific
    releaseName: ${{ parameters.releasePartialName }}
    releaseStageFilter: true
    releaseStageName: ${{ parameters.releaseStageName }}

- task: releaseorchestrator@2
  displayName: Specific release (failed)
  inputs:
    projectName: ${{ parameters.projectName }}
    definitionName: ${{ parameters.definitionName }}
    releaseStrategy: specific
    releaseName: ${{ parameters.releaseFailedName }}
    releaseStageFilter: true
    releaseStageName: ${{ parameters.releaseStageName }}
    ignoreFailure: true

- task: releaseorchestrator@2
  displayName: Create release (auto)
  inputs:
    projectName: ${{ parameters.projectName }}
    definitionName: ${{ parameters.definitionName }}
    releaseStrategy: create

- task: releaseorchestrator@2
  displayName: Create release (manual)
  inputs:
    projectName: ${{ parameters.projectName }}
    definitionName: ${{ parameters.definitionName }}
    releaseStrategy: create
    definitionStageFilter: true
    definitionStageName: PROD

- task: releaseorchestrator@2
  displayName: Create release (artifact version)
  inputs:
    projectName: ${{ parameters.projectName }}
    definitionName: ${{ parameters.definitionName }}
    releaseStrategy: create
    definitionStageFilter: true
    definitionStageName: DEV
    artifactVersionFilter: true
    artifactVersionName: ${{ parameters.artifactVersionName }}

- task: releaseorchestrator@2
  displayName: Create release (artifact tag)
  inputs:
    projectName: ${{ parameters.projectName }}
    definitionName: ${{ parameters.definitionName }}
    releaseStrategy: create
    definitionStageFilter: true
    definitionStageName: DEV
    artifactTagFilter: true
    artifactTagName: ${{ parameters.artifactTagName }}

- task: releaseorchestrator@2
  displayName: Create release (artifact branch)
  inputs:
    projectName: ${{ parameters.projectName }}
    definitionName: ${{ parameters.definitionName }}
    releaseStrategy: create
    definitionStageFilter: true
    definitionStageName: DEV
    artifactBranchFilter: true
    artifactBranchName: ${{ parameters.artifactBranchName }}

- task: releaseorchestrator@2
  displayName: Create release (release variables)
  inputs:
    projectName: ${{ parameters.projectName }}
    definitionName: ${{ parameters.definitionName }}
    releaseStrategy: create
    definitionStageFilter: true
    definitionStageName: DEV
    releaseVariables: |
     Yo-Variable-One=Yo-Updated-Value-One
     Yo-Variable-Two=Yo-Updated-Value-One

- task: releaseorchestrator@2
  displayName: Latest release (auto)
  inputs:
    projectName: ${{ parameters.projectName }}
    definitionName: ${{ parameters.definitionName }}
    releaseStrategy: latest

- task: releaseorchestrator@2
  displayName: Latest release (manual)
  inputs:
    projectName: ${{ parameters.projectName }}
    definitionName: ${{ parameters.definitionName }}
    releaseStrategy: latest
    releaseStageFilter: true
    releaseStageName: ${{ parameters.releaseStageName }}

- task: releaseorchestrator@2
  displayName: Latest release (release tag)
  inputs:
    projectName: ${{ parameters.projectName }}
    definitionName: ${{ parameters.definitionName }}
    releaseStrategy: latest
    releaseStageFilter: true
    releaseStageName: PROD
    releaseTagFilter: true
    releaseTagName: ${{ parameters.releaseTagName }}

- task: releaseorchestrator@2
  displayName: Latest release (artifact version)
  inputs:
    projectName: ${{ parameters.projectName }}
    definitionName: ${{ parameters.definitionName }}
    releaseStrategy: latest
    releaseStageFilter: true
    releaseStageName: DEV
    artifactVersionFilter: true
    artifactVersionName: ${{ parameters.artifactVersionName }}

- task: releaseorchestrator@2
  displayName: Latest release (artifact tag)
  inputs:
    projectName: ${{ parameters.projectName }}
    definitionName: ${{ parameters.definitionName }}
    releaseStrategy: latest
    releaseStageFilter: true
    releaseStageName: PROD
    artifactTagFilter: true
    artifactTagName: ${{ parameters.artifactTagName }}

- task: releaseorchestrator@2
  displayName: Latest release (artifact branch)
  inputs:
    projectName: ${{ parameters.projectName }}
    definitionName: ${{ parameters.definitionName }}
    releaseStrategy: latest
    releaseStageFilter: true
    releaseStageName: PROD
    artifactBranchFilter: true
    artifactBranchName: ${{ parameters.artifactBranchName }}

- task: releaseorchestrator@2
  displayName: Latest release (rejected stage)
  inputs:
    projectName: ${{ parameters.projectName }}
    definitionName: ${{ parameters.definitionName }}
    releaseStrategy: latest
    releaseStageFilter: true
    releaseStageName: TEST
    stageStatusFilter: true
    stageStatusName: rejected
    ignoreFailure: true

- task: releaseorchestrator@2
  displayName: Latest release (succeeded stage)
  inputs:
    projectName: ${{ parameters.projectName }}
    definitionName: ${{ parameters.definitionName }}
    releaseStrategy: latest
    releaseStageFilter: true
    releaseStageName: TEST
    stageStatusFilter: true
    stageStatusName: succeeded
